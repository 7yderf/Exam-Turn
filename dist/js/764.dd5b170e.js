"use strict";(self["webpackChunkvanguardia"]=self["webpackChunkvanguardia"]||[]).push([[764],{4764:function(s,e,a){a.r(e),a.d(e,{default:function(){return as}});var t=a(3396),n=a(7139),r=function(s){return(0,t.dD)("data-v-0d58cc53"),s=s(),(0,t.Cn)(),s},o={class:"bg-auth"},i={class:"formulario"},c=["src"],u=r((function(){return(0,t._)("h1",{class:"form-title"},"Nueva contraseña",-1)})),l={class:"form-input-group"},p=r((function(){return(0,t._)("label",{class:"form-label mb-3"},"Contraseña",-1)})),m={class:"input--icon--toggle"},d={class:"input-icon--toggle--div"},v={class:"mt-2"},g={class:"form-input-group"},f=r((function(){return(0,t._)("label",{class:"form-label mb-3"},"Confirmar contraseña",-1)})),_={class:"input--icon--toggle"},b={class:"input-icon--toggle--div"},w={class:"mt-2"},C={class:"messages"},h={class:"message-value"},k=r((function(){return(0,t._)("p",{class:"message-label"},"Carácteres",-1)})),y=r((function(){return(0,t._)("p",{class:"message-value"},"AA",-1)})),L=r((function(){return(0,t._)("p",{class:"message-label"},"Mayúscula",-1)})),Z=[y,L],M=r((function(){return(0,t._)("p",{class:"message-value"},"aa",-1)})),x=r((function(){return(0,t._)("p",{class:"message-label"},"Minúscula",-1)})),H=[M,x],S=r((function(){return(0,t._)("p",{class:"message-value"},"1",-1)})),A=r((function(){return(0,t._)("p",{class:"message-label"},"Número",-1)})),P=[S,A],B=r((function(){return(0,t._)("p",{class:"message-value"},"@",-1)})),W=r((function(){return(0,t._)("p",{class:"message-label"},"Símbolo",-1)})),z=[B,W],D={type:"submit",ref:"submitButton",id:"kt_password_reset_submit",class:"button-submit"},F={key:0,class:"indicator-label fs-base fw-bold"},T={key:1,class:"indicator-progress fs-base fw-bold"},I=(0,t.Uk)(" Espera por favor... "),E=r((function(){return(0,t._)("span",{class:"spinner-border spinner-border-sm align-middle ms-2"},null,-1)})),V=[I,E];function $(s,e,a,r,y,L){var M=(0,t.up)("Field"),x=(0,t.up)("IconPassword"),S=(0,t.up)("ErrorMessage"),A=(0,t.up)("Form");return(0,t.wg)(),(0,t.iD)("div",o,[(0,t._)("div",i,[(0,t._)("img",{src:s.VGLogo,alt:"",class:"logo"},null,8,c),(0,t.Wm)(A,{class:"form",onSubmit:s.onSubmitForgotPassword,id:"kt_login_password_reset_form","validation-schema":s.forgotPassword},{default:(0,t.w5)((function(){return[u,(0,t._)("div",l,[p,(0,t._)("div",m,[(0,t.Wm)(M,{class:"auth-form-input input--icon",type:s.type1,onInput:s.checkTerms,name:"password"},null,8,["type","onInput"]),(0,t.Wm)(x,{prop_classes:["input-icon--icon"]}),(0,t._)("div",d,[(0,t._)("span",{onClick:e[0]||(e[0]=function(e){return s.toggleType(1)}),role:"button",class:"svg-icon svg-icon-1hx pointer text-white"},(0,n.zw)("password"==s.type1?"Mostrar":"Ocultar"),1)])]),(0,t._)("div",v,[(0,t.Wm)(S,{name:"password",class:"form-error"})])]),(0,t._)("div",g,[f,(0,t._)("div",_,[(0,t.Wm)(M,{class:"auth-form-input input--icon",type:s.type2,name:"password_confirm"},null,8,["type"]),(0,t.Wm)(x,{prop_classes:["input-icon--icon"]}),(0,t._)("div",b,[(0,t._)("span",{onClick:e[1]||(e[1]=function(e){return s.toggleType(2)}),role:"button",class:"svg-icon svg-icon-1hx pointer text-white"},(0,n.zw)("password"==s.type2?"Mostrar":"Ocultar"),1)])]),(0,t._)("div",w,[(0,t.Wm)(S,{name:"password_confirm",class:"form-error"})])]),(0,t._)("div",C,[(0,t._)("div",{class:(0,n.C_)(["message",s.checks.min&&"message-active"])},[(0,t._)("p",h,(0,n.zw)(s.characters),1),k],2),(0,t._)("div",{class:(0,n.C_)(["message",s.checks.mayus&&"message-active"])},Z,2),(0,t._)("div",{class:(0,n.C_)(["message",s.checks.minus&&"message-active"])},H,2),(0,t._)("div",{class:(0,n.C_)(["message",s.checks.number&&"message-active"])},P,2),(0,t._)("div",{class:(0,n.C_)(["message",s.checks.special&&"message-active"])},z,2)]),(0,t._)("button",D,[s.enviando?(0,t.kq)("",!0):((0,t.wg)(),(0,t.iD)("span",F," Establecer contraseña ")),s.enviando?((0,t.wg)(),(0,t.iD)("span",T,V)):(0,t.kq)("",!0)],512)]})),_:1},8,["onSubmit","validation-schema"])])])}var j=a(2900),q=a(4870),G=a(5708),N=a(65),O=a(6542),R=a(1947),U=a.n(R),J=a(2483),K=a(5977),Q=a(2177),X=a(164),Y=(0,t.aZ)({name:"password-reset",components:{Field:G.gN,Form:G.l0,ErrorMessage:G.Bc,IconPassword:X.Z},setup:function(){(0,N.oR)();var s=(0,J.yj)(),e=(0,J.tv)(),a=(0,q.iH)(!1),n=(0,q.iH)(""),r=(0,q.iH)({minus:!1,mayus:!1,special:!1,number:!1,min:!1}),o=(0,q.iH)(8),i=(0,q.iH)(null),c=(0,q.iH)("^(?=.*[A-Z])(?=.*[a-z])(?=.*\\d)(?=.*[_.@$!%*?&#])[A-Za-z\\d@$!%*?&_.#]+$"),u=O.Ry().shape({password:O.Z_().min(o.value,"Logitud minima de 8 caracteres").matches(c.value,"Debe respetar el formato de contraseña").required("La contraseña es necesaria").label("Password"),password_confirm:O.Vo((function(s){return O.Z_().when("password",(function(s,e){return e.test({test:function(e){return e===s},message:"Las contraseñas deben coincidir"})})).label("Confirm Password")}))}),l=(0,q.iH)("password"),p=(0,q.iH)("password"),m=function(s){1===s?"password"==l.value?l.value="text":l.value="password":2===s&&("password"==p.value?p.value="text":p.value="password")},d=function(t){var n,r;i.value.disabled=!0,null===(n=i.value)||void 0===n||n.setAttribute("data-kt-indicator","on"),a.value=!0;var o=(0,j.pi)((0,j.pi)({},t),{token:s.params.token});console.log(o),K.Z.post("api/auth/reset-password/"+s.params.token,o).then((function(){U().fire({text:"Se ha restablecido tu contraseña!",icon:"success",buttonsStyling:!1,showConfirmButton:!1,timer:1500}),setTimeout((function(){e.push("/sign-in")}),2e3)})).catch((function(s){var e=s.response;U().fire({title:"¡Ups!",html:"object"===typeof e.data.error?Object.values(e.data.error).toString().replace(",","</br>"):e.data.message,icon:"error",buttonsStyling:!1,showConfirmButton:!1,timer:2e3})})),null===(r=i.value)||void 0===r||r.removeAttribute("data-kt-indicator"),i.value.disabled=!1,a.value=!1},v=function(s){r.value={minus:/[a-z]/.test(s.target.value),mayus:/[A-Z]/.test(s.target.value),special:/[_.@$!%*?&#]/.test(s.target.value),number:/\d/.test(s.target.value),min:s.target.value.length>=o.value},console.log(s.target.value,r.value)};return(0,t.bv)((function(){s.params.pwd&&(n.value=s.params.pwd)})),{onSubmitForgotPassword:d,forgotPassword:u,submitButton:i,checkTerms:v,checks:r,characters:o,toggleType:m,type1:l,type2:p,enviando:a,provisional:n,VGLogo:Q}}}),ss=a(89);const es=(0,ss.Z)(Y,[["render",$],["__scopeId","data-v-0d58cc53"]]);var as=es},164:function(s,e,a){a.d(e,{Z:function(){return v}});var t=a(3396),n=a(7139);const r=(0,t._)("path",{d:"M4.15001 17.9583C4.06667 17.9583 3.97501 17.95 3.90001 17.9417L2.09167 17.6917C1.22501 17.575 0.441674 16.8 0.308341 15.9167L0.0583405 14.0917C-0.0249929 13.5083 0.225007 12.75 0.641674 12.325L4.30001 8.66667C3.70834 6.3 4.39167 3.8 6.13334 2.075C8.83334 -0.616667 13.225 -0.625 15.9333 2.075C17.2417 3.38333 17.9583 5.125 17.9583 6.975C17.9583 8.825 17.2417 10.5667 15.9333 11.875C14.1833 13.6083 11.6917 14.2917 9.34167 13.6917L5.67501 17.35C5.32501 17.7167 4.70001 17.9583 4.15001 17.9583ZM11.025 1.3C9.56667 1.3 8.11667 1.85 7.00834 2.95833C5.50834 4.45 4.96667 6.63333 5.59167 8.66667C5.65834 8.89167 5.60001 9.125 5.43334 9.29167L1.51667 13.2083C1.37501 13.35 1.25834 13.7167 1.28334 13.9083L1.53334 15.7333C1.58334 16.05 1.92501 16.4083 2.24167 16.45L4.05834 16.7C4.25834 16.7333 4.62501 16.6167 4.76667 16.475L8.70001 12.55C8.86667 12.3833 9.10834 12.3333 9.32501 12.4C11.3333 13.0333 13.525 12.4917 15.025 10.9917C16.0917 9.925 16.6833 8.49167 16.6833 6.975C16.6833 5.45 16.0917 4.025 15.025 2.95833C13.9417 1.85833 12.4833 1.3 11.025 1.3Z"},null,-1),o=(0,t._)("path",{d:"M6.65833 16.1167C6.49999 16.1167 6.34166 16.0583 6.21666 15.9333L4.29999 14.0167C4.05833 13.775 4.05833 13.375 4.29999 13.1333C4.54166 12.8917 4.94166 12.8917 5.18333 13.1333L7.09999 15.05C7.34166 15.2917 7.34166 15.6917 7.09999 15.9333C6.97499 16.0583 6.81666 16.1167 6.65833 16.1167Z"},null,-1),i=(0,t._)("path",{d:"M11.0833 8.79166C10.05 8.79166 9.20833 7.95 9.20833 6.91666C9.20833 5.88333 10.05 5.04166 11.0833 5.04166C12.1167 5.04166 12.9583 5.88333 12.9583 6.91666C12.9583 7.95 12.1167 8.79166 11.0833 8.79166ZM11.0833 6.29166C10.7417 6.29166 10.4583 6.575 10.4583 6.91666C10.4583 7.25833 10.7417 7.54166 11.0833 7.54166C11.425 7.54166 11.7083 7.25833 11.7083 6.91666C11.7083 6.575 11.425 6.29166 11.0833 6.29166Z"},null,-1),c=[r,o,i];function u(s,e,a,r,o,i){return(0,t.wg)(),(0,t.iD)("svg",{width:"18",height:"18",viewBox:"0 0 18 18",class:(0,n.C_)(r.classes),xmlns:"http://www.w3.org/2000/svg"},c,2)}var l=a(4870),p={props:{prop_classes:Array},setup(s){const e=(0,l.iH)(s.prop_classes);return{classes:e}}},m=a(89);const d=(0,m.Z)(p,[["render",u]]);var v=d},2177:function(s,e,a){s.exports=a.p+"img/GV_Logotipo-Bco.2f11b1f8.png"}}]);
//# sourceMappingURL=764.dd5b170e.js.map